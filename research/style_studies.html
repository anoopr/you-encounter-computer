
<html>
	<head>
		<!---
			don't hate me 4 putting code inline
			i'll fix it l8r
		-->
		<style type="text/css">
		body {
		    font-family: FreeMono, monospace;
		    color: #aaa;
			background-color: #181818;
			font-size: 14px;
		    line-height: 14px;
		}s
		</style>
		<script src="js/jquery-1.7.1.min.js"></script>
		<script src="js/jquery.terminal-0.8.8.js"></script>
		<script src="js/jquery.terminal-min.js"></script>
		<script src="js/jquery.terminal-src.js"></script>
		<script src="js/dterm.js"></script>
		<link rel="stylesheet" type="text/css" href="css/jquery.terminal.css">

		<script>
		var tree = {
			"SET ALIGHT": {
				"description": "SET ALIGHT does not work",
				"steps": {
						"DEBUG": {
							"description": "DEBUG has no effect. DRINK ALCOHOL",
							"steps": {}
						},
						"DRINK ALCOHOL": {
								"description": "You are SAD. You look in a mirror",
								"steps": {
									"OK": {
										"description": "You are COMPUTER",
										"steps": {}
									}
								}
							}
						}
					}
				};

		$(function() {
		    $('#term').terminal(function(command, term) {

					var node = tree[command];
					if (node == undefined) {
						// Don't do anything if it's not a valid command
						return;
					}

					var description = node["description"];
					term.echo(description);

					var steps = node["steps"];

					// get the description out of each item in the step array
					for (var possibleAction in steps) {
						term.echo(possibleAction);
					}

					tree = steps;
		    }, {
		        prompt: '>',
		        greetings: 'COMPUTER does not work. DEBUG or SET ALIGHT?',
		        keypress: function(e, term) {
		            term.insert(String.fromCharCode(e.which).toUpperCase());
		            return false;
		        },
		        width: 370,
		        height: 190
		    });
		});

		</script>


	</head>
	<body>
		<div id="game_content">
			<pre>
	     Y O U   E N C O U N T E R . . .

	  .g8"""bgd   .g8""8q. `7MMM.     ,MMF'`7MM"""Mq.`7MMF'   `7MF'MMP""MM""YMM `7MM"""YMM  `7MM"""Mq.
	.dP'     `M .dP'    `YM. MMMb    dPMM    MM   `MM. MM       M  P'   MM   `7   MM    `7    MM   `MM.
	dM'       ` dM'      `MM M YM   ,M MM    MM   ,M9  MM       M       MM        MM   d      MM   ,M9
	MM          MM        MM M  Mb  M' MM    MMmmdM9   MM       M       MM        MMmmMM      MMmmdM9
	MM.         MM.      ,MP M  YM.P'  MM    MM        MM       M       MM        MM   Y  ,   MM  YM.
	`Mb.     ,' `Mb.    ,dP' M  `YM'   MM    MM        YM.     ,M       MM        MM     ,M   MM   `Mb.
	  `"bmmmd'    `"bmmd"' .JML. `'  .JMML..JMML.       `bmmmmd"'     .JMML.    .JMMmmmmMMM .JMML. .JMM.

			</pre>
			<div id="term" class="terminal" style="width: 170px; height: 180px">
				<div class="terminal-output">
					<div>
					</div>
				</div>
			</div>
		</div>


	</body>
</html>
